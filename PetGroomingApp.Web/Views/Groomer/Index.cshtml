@using PetGroomingApp.Web.ViewModels.Groomer
@model IEnumerable<AllGroomersIndexViewModel>

@{
    ViewData["Title"] = "Our Groomers";
}

<partial name="_PageTitle" />

<!-- Team Section  -->
<div class="team_area">
    <div class="container">
        <div class="row justify-content-center ">
            <div class="col-lg-6 col-md-10">
                <div class="section_title text-center mb-95">
                    <p>Our team includes top grooming specialists. Meet them and you can find your pet's new best friend!'</p>
                </div>
            </div>
        </div>

        <!-- Search -->
        <div class="row justify-content-center mb-4">
            <div class="col-md-6">
                <form method="get" class="d-flex gap-2">
                    <input type="text" name="searchTerm" class="form-control rounded-pill" placeholder="Search groomers..." value="@ViewBag.SearchTerm">
                    <button type="submit" class="btn btn-primary-custom rounded-pill">Search</button>
                    <a href="@Url.Action("Index")" class="btn btn-outline-secondary rounded-pill">Clear</a>
                </form>
            </div>
        </div>
        <div class="row justify-content-center">
            @foreach (var groomer in Model)
            {
                <div class="col-lg-4 col-md-6">
                    <div class="single_team">
                        <div class="thumb">
                            @if (string.IsNullOrWhiteSpace(groomer.ImageUrl))
                            {
                                <div class="d-flex align-items-center justify-content-center" style="height: 100%; min-height: 300px; background: linear-gradient(135deg, #f14437 0%, #ff6b5a 100%); position: relative;">
                                    <div style="position: relative; z-index: 2; text-align: center;">
                                        <i class="fa fa-user-tie" style="font-size: 120px; color: white; filter: drop-shadow(0 4px 8px rgba(0,0,0,0.3));"></i>
                                    </div>
                                    <div style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: url('/img/service/service_icon_bg_1.png') center/contain no-repeat; opacity: 0.1; z-index: 1;"></div>
                                </div>
                            }
                            else
                            {
                                var groomerIndexImageSrc = groomer.ImageUrl.StartsWith("http") ? groomer.ImageUrl : (groomer.ImageUrl.StartsWith("/") ? groomer.ImageUrl : $"~/{groomer.ImageUrl}");
                                <img src="@Url.Content(groomerIndexImageSrc)" alt="@groomer.Name">
                            }
                        </div>
                        <div class="member_name text-center">
                            <div class="mamber_inner">
                                <h4>@groomer.Name</h4>
                                <p>@groomer.JobTitle</p>
                                <a asp-controller="Groomer" asp-action="Details" asp-route-id="@groomer.Id" class="btn btn-outline-primary rounded-pill px-4 fw-semibold">More...</a>
                            </div>
                        </div>
                    </div>
                </div>
            }
        </div>

        <!-- Pagination -->
        @if (ViewBag.Pagination != null)
        {
            <partial name="_PaginationPartial" model="ViewBag.Pagination" />
        }
    </div>
</div> 
